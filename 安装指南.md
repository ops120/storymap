# ä¼—ç”Ÿè°±å®‰è£…æŒ‡å— v1.0ï¼ˆConda ç¯å¢ƒï¼‰

**ä½œè€…ï¼šä½ ä»¬å–œçˆ±çš„è€ç‹**

---

## ğŸ“‹ å‰ç½®è¦æ±‚

- âœ… Anaconda æˆ– Miniconda å·²å®‰è£…
- âœ… Node.js 16+ å·²å®‰è£…
- âœ… Git å·²å®‰è£…ï¼ˆå¯é€‰ï¼‰

---

## ğŸš€ å¿«é€Ÿå®‰è£…

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ç°æœ‰ vevo ç¯å¢ƒï¼ˆæ¨èï¼‰

å¦‚æœä½ å·²ç»æœ‰ `vevo` ç¯å¢ƒï¼š

```bash
# 1. æ¿€æ´»ç¯å¢ƒ
conda activate vevo

# 2. å®‰è£… Python ä¾èµ–
pip install -r requirements.txt

# 3. å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
npm install
cd ..

# 4. å¯åŠ¨æœåŠ¡
start.cmd
```

### æ–¹å¼äºŒï¼šåˆ›å»ºæ–°çš„ vevo ç¯å¢ƒ

å¦‚æœè¿˜æ²¡æœ‰ `vevo` ç¯å¢ƒï¼š

```bash
# 1. ä½¿ç”¨ environment.yml åˆ›å»ºç¯å¢ƒ
conda env create -f environment.yml

# 2. æ¿€æ´»ç¯å¢ƒ
conda activate vevo

# 3. éªŒè¯å®‰è£…
python --version
pip list

# 4. å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
npm install
cd ..

# 5. å¯åŠ¨æœåŠ¡
start.cmd
```

### æ–¹å¼ä¸‰ï¼šæ‰‹åŠ¨åˆ›å»º vevo ç¯å¢ƒ

```bash
# 1. åˆ›å»º Python 3.10 ç¯å¢ƒ
conda create -n vevo python=3.10

# 2. æ¿€æ´»ç¯å¢ƒ
conda activate vevo

# 3. å®‰è£…åç«¯ä¾èµ–
pip install fastapi==0.109.0
pip install uvicorn==0.27.0
pip install openai==1.12.0
pip install pydantic==2.6.0

# 4. å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
npm install
cd ..

# 5. å¯åŠ¨æœåŠ¡
start.cmd
```

---

## ğŸ” éªŒè¯å®‰è£…

### æ£€æŸ¥ Conda ç¯å¢ƒ

```bash
# æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒ
conda env list

# åº”è¯¥çœ‹åˆ° vevo ç¯å¢ƒ
# vevo                     C:\Users\YourName\anaconda3\envs\vevo
```

### æ£€æŸ¥ Python ä¾èµ–

```bash
conda activate vevo
pip list

# åº”è¯¥çœ‹åˆ°ä»¥ä¸‹åŒ…ï¼š
# fastapi       0.109.0
# uvicorn       0.27.0
# openai        1.12.0
# pydantic      2.6.0
```

### æ£€æŸ¥å‰ç«¯ä¾èµ–

```bash
cd frontend
npm list --depth=0

# åº”è¯¥çœ‹åˆ°ä»¥ä¸‹åŒ…ï¼š
# @antv/g6@4.8.2
# react@18.2.0
# zustand@4.5.0
# vite@5.2.0
```

### æµ‹è¯•åç«¯æœåŠ¡

```bash
conda activate vevo
python backend/main.py

# åº”è¯¥çœ‹åˆ°ï¼š
# INFO:     Started server process [xxxxx]
# INFO:     Uvicorn running on http://127.0.0.1:8000
```

è®¿é—® http://127.0.0.1:8000/docs æŸ¥çœ‹ API æ–‡æ¡£ã€‚

### æµ‹è¯•å‰ç«¯æœåŠ¡

```bash
cd frontend
npm run dev

# åº”è¯¥çœ‹åˆ°ï¼š
# VITE v5.2.0  ready in xxx ms
# âœ  Local:   http://localhost:5173/
```

è®¿é—® http://localhost:5173 æŸ¥çœ‹åº”ç”¨ç•Œé¢ã€‚

---

## ğŸ› ï¸ å¸¸è§é—®é¢˜

### Q1: conda å‘½ä»¤ä¸å¯ç”¨

**é—®é¢˜ï¼š** è¿è¡Œ `conda activate vevo` æ—¶æç¤ºå‘½ä»¤ä¸å­˜åœ¨ã€‚

**è§£å†³ï¼š**
1. ç¡®ä¿å·²å®‰è£… Anaconda æˆ– Miniconda
2. é‡æ–°æ‰“å¼€å‘½ä»¤è¡Œçª—å£
3. æˆ–è€…ä½¿ç”¨ Anaconda Prompt

### Q2: æ— æ³•æ¿€æ´» vevo ç¯å¢ƒ

**é—®é¢˜ï¼š** æç¤º "Could not find conda environment: vevo"

**è§£å†³ï¼š**
```bash
# åˆ›å»º vevo ç¯å¢ƒ
conda create -n vevo python=3.10

# æˆ–ä½¿ç”¨ environment.yml
conda env create -f environment.yml
```

### Q3: pip å®‰è£…å¤±è´¥

**é—®é¢˜ï¼š** pip install æ—¶å‡ºç°ç½‘ç»œé”™è¯¯æˆ–è¶…æ—¶ã€‚

**è§£å†³ï¼š**
```bash
# ä½¿ç”¨å›½å†…é•œåƒæº
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### Q4: npm å®‰è£…å¤±è´¥

**é—®é¢˜ï¼š** npm install æ—¶å‡ºç°ç½‘ç»œé”™è¯¯ã€‚

**è§£å†³ï¼š**
```bash
# ä½¿ç”¨æ·˜å®é•œåƒ
npm install --registry=https://registry.npmmirror.com
```

### Q5: ç«¯å£è¢«å ç”¨

**é—®é¢˜ï¼š** å¯åŠ¨æ—¶æç¤ºç«¯å£ 8000 æˆ– 5173 å·²è¢«å ç”¨ã€‚

**è§£å†³ï¼š**
```bash
# Windows æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :8000
netstat -ano | findstr :5173

# ç»“æŸè¿›ç¨‹ï¼ˆæ›¿æ¢ PID ä¸ºå®é™…è¿›ç¨‹ IDï¼‰
taskkill /PID <PID> /F
```

### Q6: åç«¯å¯åŠ¨å¤±è´¥

**é—®é¢˜ï¼š** è¿è¡Œ `python backend/main.py` æ—¶æŠ¥é”™ã€‚

**è§£å†³ï¼š**
1. ç¡®ä¿åœ¨ vevo ç¯å¢ƒä¸­ï¼š`conda activate vevo`
2. æ£€æŸ¥ä¾èµ–æ˜¯å¦å®‰è£…ï¼š`pip list`
3. æŸ¥çœ‹é”™è¯¯ä¿¡æ¯ï¼Œå®‰è£…ç¼ºå¤±çš„åŒ…

### Q7: å‰ç«¯å¯åŠ¨å¤±è´¥

**é—®é¢˜ï¼š** è¿è¡Œ `npm run dev` æ—¶æŠ¥é”™ã€‚

**è§£å†³ï¼š**
1. åˆ é™¤ node_modulesï¼š`rm -rf node_modules`
2. é‡æ–°å®‰è£…ï¼š`npm install`
3. æ¸…é™¤ç¼“å­˜ï¼š`npm cache clean --force`

---

## ğŸ“¦ ä¾èµ–è¯´æ˜

### Python ä¾èµ–ï¼ˆåç«¯ï¼‰

| åŒ…å | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| fastapi | 0.109.0 | Web æ¡†æ¶ |
| uvicorn | 0.27.0 | ASGI æœåŠ¡å™¨ |
| openai | 1.12.0 | OpenAI SDKï¼Œæ”¯æŒå¤šç§ LLM |
| pydantic | 2.6.0 | æ•°æ®éªŒè¯ |

### Node.js ä¾èµ–ï¼ˆå‰ç«¯ï¼‰

| åŒ…å | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| react | 18.2.0 | UI æ¡†æ¶ |
| @antv/g6 | 4.8.2 | å›¾å½¢å¼•æ“ |
| zustand | 4.5.0 | çŠ¶æ€ç®¡ç† |
| vite | 5.2.0 | æ„å»ºå·¥å…· |

---

## ğŸ”„ ç¯å¢ƒç®¡ç†

### å¯¼å‡ºç¯å¢ƒ

```bash
# å¯¼å‡º conda ç¯å¢ƒ
conda env export > environment.yml

# å¯¼å‡º pip ä¾èµ–
pip freeze > requirements.txt
```

### æ›´æ–°ç¯å¢ƒ

```bash
# æ›´æ–° conda ç¯å¢ƒ
conda env update -f environment.yml

# æ›´æ–° pip ä¾èµ–
pip install -r requirements.txt --upgrade
```

### åˆ é™¤ç¯å¢ƒ

```bash
# åœç”¨ç¯å¢ƒ
conda deactivate

# åˆ é™¤ç¯å¢ƒ
conda env remove -n vevo
```

### å…‹éš†ç¯å¢ƒ

```bash
# å…‹éš† vevo ç¯å¢ƒä¸º vevo-backup
conda create --name vevo-backup --clone vevo
```

---

## ğŸ¯ æ¨èå·¥ä½œæµ

### æ—¥å¸¸å¼€å‘

```bash
# 1. æ¿€æ´»ç¯å¢ƒ
conda activate vevo

# 2. å¯åŠ¨æœåŠ¡ï¼ˆä½¿ç”¨è„šæœ¬ï¼‰
start.cmd

# 3. å¼€å§‹å¼€å‘
# åç«¯ä»£ç åœ¨ backend/
# å‰ç«¯ä»£ç åœ¨ frontend/src/

# 4. åœæ­¢æœåŠ¡
# å…³é—­å‘½ä»¤è¡Œçª—å£æˆ–æŒ‰ Ctrl+C
```

### æ›´æ–°ä¾èµ–

```bash
# 1. æ¿€æ´»ç¯å¢ƒ
conda activate vevo

# 2. æ›´æ–° Python åŒ…
pip install --upgrade fastapi uvicorn openai pydantic

# 3. æ›´æ–° Node.js åŒ…
cd frontend
npm update
cd ..

# 4. æµ‹è¯•æ˜¯å¦æ­£å¸¸
python test_api.py
```

### éƒ¨ç½²å‰æ£€æŸ¥

```bash
# 1. è¿è¡Œæµ‹è¯•
python test_api.py

# 2. æ£€æŸ¥ä»£ç è´¨é‡
# ï¼ˆå¦‚æœå®‰è£…äº† pylintï¼‰
pylint backend/main.py

# 3. æ„å»ºå‰ç«¯
cd frontend
npm run build
cd ..

# 4. å¤‡ä»½æ•°æ®åº“
copy storymap.db storymap.db.backup
```

---

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹æ–‡æ¡£**
   - `README.md` - å¿«é€Ÿå¼€å§‹
   - `åŠŸèƒ½è¯´æ˜.md` - è¯¦ç»†åŠŸèƒ½
   - `å‡çº§è¯´æ˜.md` - å‡çº§æŒ‡å—

2. **æŸ¥çœ‹æ—¥å¿—**
   - åç«¯æ—¥å¿—ï¼šç»ˆç«¯è¾“å‡º
   - å‰ç«¯æ—¥å¿—ï¼šæµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰

3. **è¿è¡Œæµ‹è¯•**
   ```bash
   conda activate vevo
   python test_api.py
   ```

4. **æ£€æŸ¥ç¯å¢ƒ**
   ```bash
   conda activate vevo
   python --version
   pip list
   ```

---

## âœ… å®‰è£…å®Œæˆæ£€æŸ¥æ¸…å•

å®‰è£…å®Œæˆåï¼Œè¯·ç¡®è®¤ä»¥ä¸‹é¡¹ç›®ï¼š

- [ ] Conda ç¯å¢ƒ vevo å·²åˆ›å»º
- [ ] Python ä¾èµ–å·²å®‰è£…ï¼ˆfastapi, uvicorn, openai, pydanticï¼‰
- [ ] Node.js ä¾èµ–å·²å®‰è£…ï¼ˆreact, @antv/g6, zustand, viteï¼‰
- [ ] åç«¯æœåŠ¡å¯ä»¥å¯åŠ¨ï¼ˆç«¯å£ 8000ï¼‰
- [ ] å‰ç«¯æœåŠ¡å¯ä»¥å¯åŠ¨ï¼ˆç«¯å£ 5173ï¼‰
- [ ] å¯ä»¥è®¿é—®åº”ç”¨ç•Œé¢
- [ ] API æµ‹è¯•é€šè¿‡ï¼ˆpython test_api.pyï¼‰
- [ ] å¯ä»¥åˆ›å»ºé¡¹ç›®å’Œé…ç½® LLM æ¨¡å‹
- [ ] å¯ä»¥å¯¼å…¥æ–‡æœ¬æ–‡ä»¶
- [ ] å¯ä»¥è°ƒæ•´å¸ƒå±€å®½åº¦
- [ ] å¯ä»¥ä½¿ç”¨æ¸…ç†é‡å¤åŠŸèƒ½

å…¨éƒ¨å®Œæˆåï¼Œä½ å°±å¯ä»¥å¼€å§‹ä½¿ç”¨ä¼—ç”Ÿè°± v1.0 äº†ï¼ğŸ‰

---

## ğŸ“š ä¸‹ä¸€æ­¥

- é˜…è¯» [åŠŸèƒ½è¯´æ˜.md](åŠŸèƒ½è¯´æ˜.md) äº†è§£è¯¦ç»†åŠŸèƒ½
- é˜…è¯» [ä½¿ç”¨æŠ€å·§.md](ä½¿ç”¨æŠ€å·§.md) æå‡ä½¿ç”¨æ•ˆç‡
- æŸ¥çœ‹ [å¿«é€Ÿå‚è€ƒ.md](å¿«é€Ÿå‚è€ƒ.md) é€ŸæŸ¥å¸¸ç”¨å‘½ä»¤
- æŸ¥çœ‹ [CHANGELOG-v1.0.md](CHANGELOG-v1.0.md) äº†è§£ v1.0 æ–°ç‰¹æ€§

---

**ä¼—ç”Ÿè°± v1.0 - è®©äººç‰©å…³ç³»ä¸€ç›®äº†ç„¶** ğŸ‰  
**ä½œè€…ï¼šä½ ä»¬å–œçˆ±çš„è€ç‹**
