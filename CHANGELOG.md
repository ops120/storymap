# 更新日志

## [v2.0.0] - 2024-02-19

### 🎉 重大更新：多 LLM 模型管理系统

#### ✨ 新增功能

1. **多模型管理**
   - 支持添加、编辑、删除多个 LLM 模型配置
   - 每个模型独立配置 API Key、Base URL、Model ID
   - 支持设置默认模型
   - 模型配置持久化存储于 SQLite 数据库

2. **三种协议支持**
   - OpenAI 标准协议
   - 火山方舟（字节跳动）协议
   - 阿里百炼（通义千问）协议

3. **模型测试功能**
   - 添加模型前可测试连接
   - 实时验证 API Key 和配置是否正确
   - 显示测试响应内容

4. **模型切换**
   - 在模型列表中快速切换
   - 当前选中模型高亮显示
   - 推演时自动使用选中的模型

5. **自定义 Base URL**
   - 支持修改 API 基础地址
   - 适配各种代理服务
   - 支持私有部署和内网环境

#### 🔧 技术改进

1. **数据库架构**
   - 新增 `llm_models` 表存储模型配置
   - 优化数据库索引和查询性能
   - 支持模型配置的 CRUD 操作

2. **API 接口**
   - 新增 6 个 LLM 管理相关接口
   - 统一错误处理和响应格式
   - 支持协议特定的请求头配置

3. **前端组件**
   - 新增 `LLMManager.jsx` 模型管理组件
   - 优化状态管理，使用 Zustand
   - 改进用户交互和视觉反馈

#### 📝 文档更新

- 新增 `README.md` 项目说明文档
- 新增 `LLM配置示例.md` 配置指南
- 新增 `功能说明.md` 详细功能文档
- 更新 `众生谱项目需求与架构文档.md`

#### 🐛 Bug 修复

- 修复了 `selectProject` 方法的 API 路径错误
- 修复了 G6 图谱数据更新方式
- 优化了 JSON 解析的容错性

---

## [v1.0.0] - 2024-02-18

### 🎉 首次发布

#### ✨ 核心功能

1. **项目管理**
   - 创建、切换多个小说卷宗
   - 数据隔离，互不干扰
   - 支持导入导出

2. **智能分析**
   - AI 自动提取人物关系
   - 支持文本分块处理
   - 实时显示推演进度

3. **关系图谱**
   - 基于 G6 的力导向布局
   - 支持拖拽、缩放交互
   - 动态渲染节点和关系

4. **数据持久化**
   - SQLite 数据库存储
   - 支持节点和关系的增量更新
   - 数据导出为 JSON 格式

#### 🛠️ 技术栈

- 后端：FastAPI + SQLite + OpenAI SDK
- 前端：React + Vite + Zustand
- 图形：AntV G6 4.x

---

## 版本规划

### [v2.1.0] - 计划中

- [ ] 支持流式响应
- [ ] 支持自定义节点样式
- [ ] 支持关系强度可视化
- [ ] 支持人物出场统计

### [v2.2.0] - 计划中

- [ ] 支持多模型并行推演
- [ ] 支持导出为图片
- [ ] 支持 Docker 部署
- [ ] 支持 Tauri 桌面应用

### [v3.0.0] - 远期规划

- [ ] 支持实时协作
- [ ] 支持云端同步
- [ ] 支持移动端适配
- [ ] 支持插件系统
